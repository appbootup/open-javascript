function removeNulls(e){var t=e instanceof Array;for(var r in e)null===e[r]?t?e.splice(r,1):delete e[r]:"object"==typeof e[r]&&removeNulls(e[r]);return 1}function citrusFilterWallet(e,t){for(var r,a=t.length,n=e.netBanking.length,i=e.creditCard.length,o=e.debitCard.length,u=[],s=[],c=[],l=0;l<n;l++)u.push(e.netBanking[l].bankName);for(l=0;l<i;l++)-1===jQuery.inArray(e.creditCard[l].toLowerCase(),s)&&(s.push(e.creditCard[l].toLowerCase()),r=CitrusPay.Scheme.Model.ReformatScheme(e.creditCard[l].toLowerCase()),CitrusPay.Scheme.Config.credit.push(r));e.creditCard=s;for(l=0;l<o;l++)-1===jQuery.inArray(e.debitCard[l].toLowerCase(),c)&&(c.push(e.debitCard[l].toLowerCase()),r=CitrusPay.Scheme.Model.ReformatScheme(e.debitCard[l].toLowerCase()),CitrusPay.Scheme.Config.debit.push(r));e.debitCard=c;for(var d,y={},l=0;l<a;l++){switch(t[l].type){case"netbanking":d=t[l].bank,-1===jQuery.inArray(d,u)&&delete t[l];break;case"credit":null!==t[l].scheme&&void 0!==t[l].scheme&&(d=t[l].scheme.toLowerCase(),-1===jQuery.inArray(d,s)&&delete t[l]);break;case"debit":null!==t[l].scheme&&void 0!==t[l].scheme&&(d=t[l].scheme.toLowerCase(),-1===jQuery.inArray(d,c)&&delete t[l]);break;default:delete t[l]}null!==t[l]&&(y[l]=t[l])}var m={};return m.paymentOptions=e,m.wallet=t,removeNulls(m),m}function fetchmerchantPaymentOptions(e,t){var r=CitrusPay.Merchant.Config.Merchant.vanityUrl;CitrusPay.Rest.Merchant.API.getavailablePaymentOptions(r,function(r){!0===isJSON(r)&&(r=JSON.parse(r));var a=citrusFilterWallet(r,e);if(!0===t){var n=a.wallet;handleCitrusWallet(n)}else{var i=a.paymentOptions;handleCitrusPaymentOptions(i)}},function(){console.log("Error in retrieving the options")})}function isJSON(e){var t=!0;try{JSON.parse(e)}catch(e){t=!1}return t}function memberPayment(e,t){var r,a,n=jQuery("input[name=CitrusWalletPaymentOption]:checked").val(),i=jQuery("#citrusMerchantTxnId").val(),o="CJSG",u=CitrusPay.Rest.Payment.Model.Amount({value:jQuery("#citrusAmount").val(),currency:jQuery("#citrusCurrency").val()||"INR"}),s=jQuery("#citrusEmiToken").val(),c=CitrusPay.Merchant.Config.Merchant.vanityUrl,l=CitrusPay.Rest.Payment.Payment.Model.UserDetails({email:jQuery("#citrusEmail").val(),firstName:jQuery("#citrusFirstName").val(),lastName:jQuery("#citrusLastName").val(),address:CitrusPay.Rest.Payment.Payment.Model.Address({street1:jQuery("#citrusStreet1").val(),street2:jQuery("#citrusStreet2").val(),city:jQuery("#citrusCity").val(),state:jQuery("#citrusState").val(),country:jQuery("#citrusCountry").val(),zip:jQuery("#citrusZip").val()}),mobileNo:jQuery("#citrusMobile").val()});if("netBanking"==e)if(!0===t&&void 0!==n&&null!==n)o="CJSW",r=CitrusPay.Rest.Payment.Payment.Model.PaymentToken.MemberPaymentOptionToken({id:n});else{var d=jQuery("#citrusAvailableOptions option:selected").text(),y=jQuery("#citrusAvailableOptions").val();r=CitrusPay.Rest.Payment.Payment.Model.PaymentToken.PaymentOptionToken({paymentMode:CitrusPay.Rest.Payment.Payment.Model.ModeOfPayment.NetBanking({type:"netbanking",bank:d,code:y})})}else if("card"==e)if(!0===t&&void 0!==n&&null!==n){o="CJSW";var m=n.split("&")[1],p=n.split("&")[0];r=CitrusPay.Rest.Payment.Payment.Model.PaymentToken.PaymentOptionIdToken({type:"paymentOptionIdToken",id:m,cvv:jQuery("#CitrusMembercvv"+p).val()})}else{var v=jQuery("#citrusCardType").val().toLowerCase(),P=jQuery("#citrusNumber").val().replace(/\s+/g,""),C=jQuery("#citrusExpiry").val().replace(/\s+/g,"");switch(v){case"credit":a=s?CitrusPay.Rest.Payment.Payment.Model.ModeOfPayment.EmiCreditCard({scheme:jQuery("#citrusScheme").val(),number:P,holder:jQuery("#citrusCardHolder").val(),expiry:C,cvv:jQuery("#citrusCvv").val()}):CitrusPay.Rest.Payment.Payment.Model.ModeOfPayment.CreditCard({scheme:jQuery("#citrusScheme").val(),number:P,holder:jQuery("#citrusCardHolder").val(),expiry:C,cvv:jQuery("#citrusCvv").val()});break;case"debit":a=CitrusPay.Rest.Payment.Payment.Model.ModeOfPayment.DebitCard({scheme:jQuery("#citrusScheme").val(),number:P,holder:jQuery("#citrusCardHolder").val(),expiry:C,cvv:jQuery("#citrusCvv").val()})}r=CitrusPay.Rest.Payment.Payment.Model.PaymentToken.PaymentOptionToken({paymentMode:a})}else"citrusbanking"==e&&(o="CJSW",a=CitrusPay.Rest.Payment.Payment.Model.ModeOfPayment.PrepaidCard({scheme:"CPAY",holder:jQuery("#citrusPrepaidCardHolder").val()}),r=CitrusPay.Rest.Payment.Payment.Model.PaymentToken.PaymentOptionToken({paymentMode:a}));var f,g,h=CitrusPay.Rest.Payment.Payment.Model.PaymentRequest({returnUrl:jQuery("#citrusReturnUrl").val(),notifyUrl:jQuery("#citrusNotifyUrl").val(),amount:u,merchantAccessKey:CitrusPay.Merchant.Config.Merchant.accessKey,paymentToken:r,merchantTxnId:i,requestSignature:jQuery("#citrusSignature").val(),userDetails:l}),R=parseInt(jQuery("#citrusCustomParamCount").val());null!==R&&void 0!==R&&R>0&&(h.customParameters={});for(var A=1;A<=R;A++)f=jQuery("#citrusCustomParamsName"+A).val(),g=jQuery("#citrusCustomParamsValue"+A).val(),h.customParameters[f]=g;var S=jQuery("#citrusOfferToken").val();S&&(h.offerToken=S),s&&(h.emiToken=s),h.requestOrigin=o,CitrusPay.Rest.Payment.Payment.API.makePayment(h,c,function(e){!0===isJSON(e)&&(e=JSON.parse(e)),!e||"0"!==e.pgRespCode&&0!==e.pgRespCode?citrusServerErrorMsg(e):window.location=e.redirectUrl},function(e){citrusServerErrorMsg(e),console.log("Error making payment request.")})}function fetchPaymentOptions(){fetchmerchantPaymentOptions([],!1)}function makePayment(e,t){switch(!0!==t&&(t=!1),e=e.toLowerCase()){case"card":memberPayment("card",t);break;case"netbanking":memberPayment("netBanking",t);break;case"citrusbanking":memberPayment("citrusbanking",t);break;case"cod":COD()}}function getPGhealth(){CitrusPay.Rest.Merchant.API.getPgHealth(CitrusPay.Merchant.Config.Merchant.vanityUrl,function(e){handlePGhealthResponse(e)},function(e){console.log("Error in retrieving PG health options.")})}function queryMerchant(){var e=CitrusPay.Merchant.Config.Merchant.accessKey,t=$("#citrusQueryMerchantSignature").val();CitrusPay.DynamicPricing.API.queryMerchant({merchantAccessKey:e,signature:t},function(e){!0===isJSON(e)&&(e=JSON.parse(e)),handleQueryResponse(e)},function(){handleQueryResponse()})}function dynamicPricing(e){var t="WEB";t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))?"MOBILE":"DESKTOP";var r={ruleName:$("#citrusRuleName").val(),email:$("#citrusEmail").val(),phone:$("#citrusMobile").val(),merchantTransactionId:$("#citrusMerchantTxnId").val(),merchantAccessKey:CitrusPay.Merchant.Config.Merchant.accessKey,signature:$("#citrusDpSignature").val(),originalAmount:{value:$("#citrusAmount").val(),currency:"INR"},alteredAmount:{value:$("#citrusAlteredAmount").val(),currency:"INR"},paymentInfo:{},extraParams:{deviceType:t}};switch(e){case"CITRUS_WALLET":var a=jQuery("input[name=CitrusWalletPaymentOption]:checked").val();if(r.paymentInfo={cardNo:"",cardType:"",issuerId:"",paymentMode:"CITRUS_WALLET",paymentToken:jQuery("input[name=CitrusWalletPaymentOption]:checked").val()},-1===a.indexOf("&"))r.paymentInfo.paymentToken=jQuery("input[name=CitrusWalletPaymentOption]:checked").val();else{var n=a.split("&");r.paymentInfo.paymentToken=n[1]}break;case"PREPAID_CARD":r.paymentInfo={cardNo:"",cardType:"",issuerId:"",paymentMode:"PREPAID_CARD",paymentToken:""};break;case"CREDIT_CARD":r.paymentInfo={cardNo:jQuery("#citrusNumber").val().replace(/\s+/g,""),cardType:CitrusPay.Scheme.Model.ReformatScheme(jQuery("#citrusScheme").val()),issuerId:"",paymentMode:"CREDIT_CARD",paymentToken:""};break;case"DEBIT_CARD":r.paymentInfo={cardNo:jQuery("#citrusNumber").val().replace(/\s+/g,""),cardType:CitrusPay.Scheme.Model.ReformatScheme(jQuery("#citrusScheme").val()),issuerId:"",paymentMode:"DEBIT_CARD",paymentToken:""};break;case"NET_BANKING":r.paymentInfo={cardNo:"",cardType:"",issuerId:jQuery("#citrusAvailableOptions option:selected").val(),paymentMode:"NET_BANKING",paymentToken:""}}r.ruleName&&r.alteredAmount.value?CitrusPay.DynamicPricing.API.validateRule(CitrusPay.DynamicPricing.Model.DynamicPricingRequest(r),function(t){"SUCCESS"===t.resultMessage&&t.offerToken?(jQuery("#citrusOfferToken").val(t.offerToken),!0===isJSON(t)&&(t=JSON.parse(t))):jQuery("#citrusOfferToken").val(""),handleDpResponse(t,e)},function(e){console.log(e)}):r.ruleName&&!r.alteredAmount.value?CitrusPay.DynamicPricing.API.calculatePricing(CitrusPay.DynamicPricing.Model.DynamicPricingRequest(r),function(t){"SUCCESS"===t.resultMessage&&t.offerToken?(jQuery("#citrusOfferToken").val(t.offerToken),!0===isJSON(t)&&(t=JSON.parse(t))):jQuery("#citrusOfferToken").val(""),handleDpResponse(t,e)},function(e){console.log(e)}):r.ruleName||r.alteredAmount.value||CitrusPay.DynamicPricing.API.searchAndApplyRule(CitrusPay.DynamicPricing.Model.DynamicPricingRequest(r),function(t){"SUCCESS"===t.resultMessage&&t.offerToken?jQuery("#citrusOfferToken").val(t.offerToken):jQuery("#citrusOfferToken").val(""),handleDpResponse(t,e)},function(e){console.log(e)})}function validatePin(){var e={merTxnId:jQuery("#citrusMerchantTxnId").val(),orderAmount:jQuery("#citrusAmount").val(),returnUrl:jQuery("#citrusReturnUrl").val(),notifyUrl:jQuery("#citrusNotifyUrl").val(),zipcode:jQuery("#citrusZip").val()};CitrusPay.COD.API.validatePin(CitrusPay.COD.Model.CODvalidatePinRequest(e),function(e){console.log(e)},function(e){console.log(e)})}function validateApplicableCard(){var e=jQuery("#citrusEmiSignature").val(),t=jQuery("#citrusMerchantTxnId").val(),r=CitrusPay.Merchant.Config.Merchant.accessKey,a=parseFloat(jQuery("#citrusAmount").val()),n=jQuery("#citrusNumber").val().replace(/\s+/g,"").substring(0,6),i=jQuery("input[name=citrusTenureDetails]:checked").val().split("&"),o={emiBody:{merchantAccessKey:{data:r},cardBin:{data:n},bankCode:{data:i[0]},tenureCode:{data:i[1]},merchantTransactionId:{data:t},transactionAmount:{data:a},emiSignature:{data:e},transactionCurrency:{data:"INR"},interestPaidAmount:{data:i[2]},monthlyInstallment:{data:i[3]}}};CitrusPay.EMI.API.validateApplicableCard(o,function(e){console.log(e),"SUCCESS"===e.resultMessage?(jQuery("#citrusEmiToken").val(e.resultBody.token.data),handleApplicableCardResponse(e)):(jQuery("#citrusEmiToken").val(""),handleApplicableCardResponse(e))},function(e){console.log(e)})}function fetchBankDetails(){jQuery("#citrusEmiSignature").val(),jQuery("#citrusMerchantTxnId").val();var e=CitrusPay.Merchant.Config.Merchant.accessKey,t=parseFloat(jQuery("#citrusAmount").val()),r={emiBody:{merchantAccessKey:{data:e},merchantTransactionId:{data:jQuery("#citrusMerchantTxnId").val()},transactionAmount:{data:t},emiSignature:{data:jQuery("#citrusEmiSignature").val()},transactionCurrency:{data:"INR"}}};CitrusPay.EMI.API.fetchBankDetails(r,function(e){console.log(e),handleEmiBankDetails(e)},function(e){console.log(e)})}function fetchBankTenureDetails(){jQuery("#citrusEmiSignature").val(),jQuery("#citrusMerchantTxnId").val();var e=parseFloat(jQuery("#citrusAmount").val()),t={emiBody:{merchantAccessKey:{data:CitrusPay.Merchant.Config.Merchant.accessKey},merchantTransactionId:{data:jQuery("#citrusMerchantTxnId").val()},bankCode:{data:jQuery("#citrusEmiOptions").val()},transactionAmount:{data:e},emiSignature:{data:jQuery("#citrusEmiSignature").val()},transactionCurrency:{data:"INR"}}};CitrusPay.EMI.API.fetchTenureDetails(t,function(e){console.log(e),handleBankTenureDetails(e)},function(e){console.log(e)})}function getVaultToken(){var e={card:{pan:jQuery("#citrusNumber").val().replace(/\s+/g,""),holder:jQuery("#citrusCardHolder").val(),expiry:jQuery("#citrusExpiry").val().replace(/\s+/g,""),scheme:jQuery("#citrusScheme").val(),cvv:jQuery("#citrusCvv").val()},hint:{mtx:jQuery("#citrusMerchantTxnId").val(),vanity:CitrusPay.Merchant.Config.Merchant.vanityUrl,email:jQuery("#citrusEmail").val()}};"credit"!==$("#citrusCardType").val().toLowerCase()?citrusClientErrMsg("Please select credit card"):CitrusPay.Vault.API.getVaultToken(CitrusPay.Vault.Model.vaultTokenRequest(e),function(e){console.log(e),handleVaultTokenResponse(e)},function(e){console.log(e)})}var CitrusPay={version:"1.6-20.11.17"};jQuery.support.cors=!0,CitrusPay.Merchant={},CitrusPay.Config=function(){var e={DEBUG:"DEBUG",TEST:"TEST",STAGING:"STAGING",SANDBOX:"SANDBOX",PRODUCTION:"PRODUCTION",LOCAL:"LOCAL"},t={TEST:"",DEBUG:"https://sandboxadmin.citruspay.com/",STAGING:"",PRODUCTION:"https://admin.citruspay.com/",LOCAL:"",POWER:""},r={CREDIT_CARD:"CREDIT_CARD",DEBIT_CARD:"DEBIT_CARD",NET_BANKING:"NET_BANKING",PREPAID_CARD:"PREPAID_CARD",IMPS:"IMPS"},a={TEST:"",DEBUG:"https://sandbox.citruspay.com/",STAGING:"",PRODUCTION:"https://www.citruspay.com/",LOCAL:"",POWER:""},n={TEST:"",DEBUG:"https://sandboxmars.citruspay.com/dynamic-pricing",STAGING:"",PRODUCTION:"https://mars.citruspay.com/dynamicpricing",LOCAL:"",POWER:""};return emiServers={TEST:"",DEBUG:"https://sandboxmars.citruspay.com/emi-service/emi/",STAGING:"",PRODUCTION:"https://mars.citruspay.com/emi-service/emi/",LOCAL:"",POWER:""},vaultServers={TEST:"",DEBUG:"https://sboxvault.citruspay.com/",STAGING:"",PRODUCTION:"https://vault.citruspay.com/",LOCAL:"",POWER:""},olServers={TEST:"",DEBUG:"https://sboxpay.blazepay.in/",STAGING:"",PRODUCTION:"https://pay.blazepay.in/",LOCAL:"",POWER:""},env=e.DEBUG,v2Env=a.DEBUG,dpEnv=n.DEBUG,vaultEnv=vaultServers.DEBUG,{PaymentModes:r,Env:e,getServer:function(){return t[env]},getEnv:function(){return env},setEnv:function(t){if(!e[t])throw env=e.DEBUG,v2Env=a.DEBUG,dpEnv=n.DEBUG,vaultEnv=vaultServers.DEBUG,citrusClientErrMsg("Invalid Environment specified: "+env),new Error("Invalid Environment specified: "+env);env=t,v2Env=t,dpEnv=t,vaultEnv=t},getV2Server:function(){return a[env]},getDpServer:function(){return n[env]},getEmiServer:function(){return emiServers[env]},getVaultServer:function(){return vaultServers[env]},getOlServer:function(){return olServers[env]}}}(),CitrusPay.Scheme={},CitrusPay.Scheme.Config={credit:[],debit:[]},CitrusPay.Scheme.Model={},CitrusPay.Scheme.Model.ReformatScheme=function(e){if(e)switch(e.toLowerCase()){case"visa":return"VISA";case"mastercard":case"master card":return"MCRD";case"maestro":case"maestro card":return"MTRO";case"amex":return"AMEX";case"dinersclub":case"diners club":return"DINERS";case"master card":return"MCRD";case"rupay":return"RPAY"}return e},CitrusPay.Validators=function(){"use strict";function e(e){return function(r,a,n){n=n?n+": ":"";var i=t[a];if((null!==r&&void 0!==r&&""!==r||!e)&&!i.test(r))throw citrusClientErrMsg("Invalid value: "+r+" for type: "+a+"."),new Error(n+"Invalid value: "+r+" for type: "+a+".")}}var t={Address:/^[\s\S]{1,255}$/,BankId:/^[1-9][0-9]*$/,CardNumber:/^[0-9]{15,19}$/,CardType:/^[\s\S]{1,255}$/,City:/^[\s\S]{1,100}$/,Country:/^[\s\S]{1,100}$/,CustomParam:/^[0-9a-zA-Z ]{1,20}$/,CVV:/^[0-9]{3,4}$/,"4DBC":/^[0-9]{4}$/,Email:/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-zA-Z]{2,6}(?:\.[a-zA-Z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/,Mobile:/^((\+){0,1}91(\s){0,1}(\-){0,1}(\s){0,1}){0,1}98(\s){0,1}(\-){0,1}(\s){0,1}[1-9]{1}[0-9]{7}$/,MonthNum:/^([0-9])|1[0-1]$/,Name:/^(?!\s*$)[a-zA-Z .]{1,50}$/,Password:/^(?=.*\d)(?=.*[A-Za-z])(?=.*[A-Za-z!@#$%^&*]).{8,16}/,PinCode:/^(?!\s*$)[a-zA-Z0-9\-, .] ?([a-zA-Z0-9\-, .]|[a-zA-Z0-9\-, .] )*[a-zA-Z0-9\-, .]{1,7}$/,State:/^[\s\S]{1,100}$/,YearNum:/^20[1-9][0-9]$/,Boolean:/^true|false$/,URL:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,MMID:/^(?!0)[a-zA-Z0-9]{7}$/,Mobile10D:/^(?!0)[0-9]{10}$/,OTP:/^(?!0)[0-9]{6}$/};return{RequiredValidator:function(e,t){var r=t;t=t?t+": ":"",e||0===e||!1===e||citrusClientErrMsg(r+" is required.")},RegularExpressionValidator:e(!1),OptionalRegularExpressionValidator:e(!0),NumberValidator:function(e,t){t=t?t+": ":"",0===e||e&&"number"!=typeof e||citrusClientErrMsg(t+"Invalid number: "+e+".")},AllowedValuesValidator:function(e,t,r){if(r=r?r+": ":"",-1===t.indexOf(e))throw citrusClientErrMsg(r+"Invalid value. Possible values are: "+t.toString()),new Error(r+"Invalid value. Possible values are: "+t.toString())},DateValidator:function(e,t){var r=new Date,a=r.getMonth()+1,n=e.replace(/\s+/g,"").replace("/",""),i=n.substr(0,2),o=n.slice(-4),u=n.length,s=r.getFullYear().toString().slice(-4);if(6!=u)throw citrusClientErrMsg("Invalid date: "+e),new Error(t+"Invalid date: "+e+".");if(!((i<a&&o>s||i>=a&&o>=s)&&i<=12&&o<=(parseInt(s)+50).toString()))throw citrusClientErrMsg("Invalid date: "+e),new Error(t+"Invalid date: "+e+".")},CardNumberValidator:function(e,t,r){var a=e.replace(/\s+/g,"");if(!0!==jQuery.payment.validateCardNumber(a))throw citrusClientErrMsg("Invalid card number: "),new Error(r+"Invalid card number: "+e+".")},SchemeValidator:function(e,t){switch(t){case"credit":if(-1===jQuery.inArray(e,CitrusPay.Scheme.Config.credit))throw citrusClientErrMsg(e+" Scheme is not available for : "+t+" card"),new Error(e+" Scheme is not available for : "+t+" card");break;case"debit":if(-1===jQuery.inArray(e,CitrusPay.Scheme.Config.debit))throw citrusClientErrMsg(e+" Scheme is not available for : "+t+" card"),new Error(e+" Scheme is not available for : "+t+" card")}}}}(),CitrusPay.Rest={},CitrusPay.Rest.Payment={},CitrusPay.Rest.Payment.Config=void 0,CitrusPay.Rest.Payment.Model=function(){return{Amount:function(e){return{currency:e.currency||"INR",value:e.value||""}}}}(),CitrusPay.Rest.Payment.Validators=function(){return{AmountValidator:function(e){CitrusPay.Validators.RequiredValidator(e,"Amount value"),CitrusPay.Validators.NumberValidator(e,"Amount value")}}}(),CitrusPay.Rest.Merchant={},CitrusPay.Rest.Merchant.Config=function(){var e="service/v1/merchant/pgsetting";return{getTokenUrl:function(){return CitrusPay.Config.getServer()+e},getPgHealthUrl:function(e){return CitrusPay.Config.getV2Server()+"utility/"+e+"/pgHealth"}}}(),CitrusPay.Rest.Merchant.Service=function(){return{getPaymentOption:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.Rest.Merchant.Config.getTokenUrl(),contentType:"application/x-www-form-urlencoded",data:{vanity:e},success:function(e){!0===isJSON(e)&&(e=JSON.parse(e)),CitrusPay.Rest.Merchant.PaymentOption=e,t&&t(e)},error:function(e){r&&r()}})},getPgHealth:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.Rest.Merchant.Config.getPgHealthUrl(e),data:{bankCode:"ALLBANKS"},success:function(e){!0===isJSON(e)&&(e=JSON.parse(e)),t&&t(e)},error:function(e){console.log("Error"),r&&r()}})}}}(),CitrusPay.Rest.Merchant.API=function(){return{getavailablePaymentOptions:function(e,t,r){CitrusPay.Rest.Merchant.Service.getPaymentOption(e,t,r)},getPgHealth:function(e,t,r){CitrusPay.Rest.Merchant.Service.getPgHealth(e,t,r)}}}(),CitrusPay.Rest.Payment.Payment={},CitrusPay.Rest.Payment.Payment.Config=function(){return urls={moto:{struct:"service/moto/authorize/struct/",unstruct:"service/moto/authorize/"}},{getUrl:function(e){e=e.split(".");var t=urls;if(t=t[e[0]],1==e.length?t=t[e[0]]:2==e.length&&(t=t[e[1]]),CitrusPay.Rest.Merchant.PaymentOption.isOlEnabled)r=CitrusPay.Config.getOlServer();else var r=CitrusPay.Config.getServer();return r+t}}}(),CitrusPay.Rest.Payment.Payment.Model={},CitrusPay.Rest.Payment.Payment.Model.PaymentRequest=function(e){return{merchantTxnId:e.merchantTxnId||"",amount:e.amount||CitrusPay.Rest.Payment.Model.Amount(),userDetails:e.userDetails||CitrusPay.Rest.Payment.Payment.Model.UserDetails(),returnUrl:e.returnUrl||"",paymentToken:e.paymentToken||CitrusPay.Rest.Payment.Payment.Model.PaymentToken.PaymentOptionIdToken(),notifyUrl:e.notifyUrl||"",merchantAccessKey:e.merchantAccessKey||"",requestSignature:e.requestSignature||""}},CitrusPay.Rest.Payment.Payment.Model.UserDetails=function(e){return{email:e.email||"",firstName:e.firstName||"",lastName:e.lastName||"",address:e.address||CitrusPay.Rest.Payment.Payment.Model.Address(),mobileNo:e.mobileNo||""}},CitrusPay.Rest.Payment.Payment.Model.Address=function(e){return{street1:e.street1||"NA",street2:e.street2||"NA",city:e.city||"NA",state:e.state||"NA",country:e.country||"NA",zip:e.zip||"NA"}},CitrusPay.Rest.Payment.Payment.Model.PaymentToken=function(){return{PaymentOptionIdToken:function(e){return{type:"paymentOptionIdToken",id:e.id||"",cvv:e.cvv||""}},PaymentOptionToken:function(e){return{type:"paymentOptionToken",paymentMode:e.paymentMode||CitrusPay.Rest.Payment.Payment.Model.ModeOfPayment.CreditCard()}},MemberPaymentOptionToken:function(e){return{type:"paymentOptionIdToken",id:e.id}}}}(),CitrusPay.Rest.Payment.Payment.Model.ModeOfPayment=function(){function e(e){return function(t){if(t.expiry&&(d=t.expiry.slice(3),2==d.length)){var r=(new Date).getFullYear().toString().slice(0,2);t.expiry=t.expiry.toString().slice(0,3)+r+d}return{type:e,scheme:t.scheme||"",number:t.number||"",holder:t.holder||"",expiry:t.expiry||"",cvv:t.cvv||""}}}function t(e){return function(t){return{cardNo:t.cardNo||"",cardType:t.cardType||"",issuerId:t.issuerId||"",paymentMode:e,paymentToken:t.paymentToken||""}}}return{NetBanking:function(e){return{type:"netbanking",bank:e.bank||"",code:e.code||""}},CreditCard:e("credit"),EmiCreditCard:e("emi"),DebitCard:e("debit"),PrepaidCard:e("prepaid"),PaymentInfo:t("CITRUS_WALLET"),PaymentInfo:t("PREPAID_CARD"),PaymentInfo:t("CREDIT_CARD"),PaymentInfo:t("DEBIT_CARD"),PaymentInfo:t("NET_BANKING")}}(),CitrusPay.Rest.Payment.Payment.Validators=function(){function e(e){if(CitrusPay.Validators.RequiredValidator(e.email,"Email address"),CitrusPay.Validators.RegularExpressionValidator(e.email,"Email","Email address"),e.mobileNo&&(console.log(e.mobileNo.toString().length),e.mobileNo.toString().length<7))throw new Error("Invalid value: "+e.mobileNo+" for type: Mobile")}function t(e){var t={paymentOptionIdToken:function(e){CitrusPay.Validators.RequiredValidator(e.id,"Payment option id"),CitrusPay.Validators.OptionalRegularExpressionValidator(e.cvv,"CVV")},paymentOptionToken:function(e){r(e.paymentMode)}};CitrusPay.Validators.RequiredValidator(e.type,"Payment token type"),t[e.type](e)}function r(e){function t(e){if(e.scheme=CitrusPay.Scheme.Model.ReformatScheme(e.scheme),CitrusPay.Validators.RequiredValidator(e.scheme,"Card number"),CitrusPay.Validators.RequiredValidator(e.number,"Card number"),"MTRO"!==e.scheme&&CitrusPay.Validators.CardNumberValidator(e.number,"CardNumber","Card number"),"MTRO"===e.scheme)if(null!==e.expiry&&void 0!==e.expiry&&""!==e.expiry&&null!==e.cvv&&void 0!==e.cvv&&""!==e.cvv);else{var t=new Date;e.expiry="12/"+(t.getFullYear()+1);var r=Math.floor(901*Math.random())+100;e.cvv=r}CitrusPay.Validators.RegularExpressionValidator(e.number,"CardNumber","Card number"),CitrusPay.Validators.RequiredValidator(e.holder,"Card holder name"),CitrusPay.Validators.RegularExpressionValidator(e.holder,"Name","Card holder"),"MTRO"!==e.scheme&&(CitrusPay.Validators.DateValidator(e.expiry,"Card expiry"),CitrusPay.Validators.RequiredValidator(e.expiry,"Card expiry"),CitrusPay.Validators.RequiredValidator(e.cvv,"CVV number"),CitrusPay.Validators.RegularExpressionValidator(e.cvv,"CVV","CVV number"))}var r={netbanking:function(e){CitrusPay.Validators.RequiredValidator(e.bank,"Bank name"),CitrusPay.Validators.RequiredValidator(e.code,"Bank")},credit:t,debit:t,emi:t,prepaid:function(e){CitrusPay.Validators.RequiredValidator(e.scheme,"Card Scheme"),CitrusPay.Validators.RequiredValidator(e.holder,"Card holder name")}};CitrusPay.Validators.RequiredValidator(e.type,"Mode of payment type"),r[e.type](e)}return{PaymentRequestValidator:function(r){CitrusPay.Validators.RequiredValidator(r.merchantTxnId,"Merchant transaction id"),CitrusPay.Rest.Payment.Validators.AmountValidator(r.amount),e(r.userDetails),CitrusPay.Validators.RequiredValidator(r.returnUrl,"Return url"),CitrusPay.Validators.RegularExpressionValidator(r.returnUrl,"URL","Return url"),t(r.paymentToken),CitrusPay.Validators.OptionalRegularExpressionValidator(r.notify,"URL","Notify url"),CitrusPay.Validators.RequiredValidator(r.merchantAccessKey,"Merchant access key"),CitrusPay.Validators.RequiredValidator(r.requestSignature,"Request signature")},VaultRequestValidator:function(e){if(e.scheme=CitrusPay.Scheme.Model.ReformatScheme(e.card.scheme),"MTRO"!==e.scheme&&CitrusPay.Validators.CardNumberValidator(e.card.pan,"CardNumber","Card number"),"MTRO"===e.scheme)if(null!==e.card.expiry&&void 0!==e.card.expiry&&""!==e.card.expiry&&null!==e.cvv&&void 0!==e.cvv&&""!==e.cvv);else{var t=new Date;e.card.expiry="12/"+(t.getFullYear()+1);var r=Math.floor(901*Math.random())+100;e.card.cvv=r}CitrusPay.Validators.RegularExpressionValidator(e.card.pan,"CardNumber","Card number"),CitrusPay.Validators.RequiredValidator(e.card.holder,"Card holder name"),CitrusPay.Validators.RegularExpressionValidator(e.card.holder,"Name","Card holder"),"MTRO"!==e.card.scheme&&(CitrusPay.Validators.DateValidator(e.card.expiry,"Card expiry"),CitrusPay.Validators.RequiredValidator(e.card.expiry,"Card expiry"))}}}(),CitrusPay.Rest.Payment.Payment.Service=function(){return{makePayment:function(e,t,r,a){jQuery.ajax({async:!1,type:"POST",url:CitrusPay.Rest.Payment.Payment.Config.getUrl("moto.struct")+t,contentType:"application/json",data:JSON.stringify(e),success:function(e){r&&r(e)},error:function(){console.log("Error in making payment request."),a&&a()}})}}}(),CitrusPay.Rest.Payment.Payment.API=function(){return{makePayment:function(e,t,r,a){CitrusPay.Rest.Payment.Payment.Validators.PaymentRequestValidator(e),CitrusPay.Rest.Payment.Payment.Service.makePayment(e,t,r,a)}}}(),CitrusPay.DynamicPricing={},CitrusPay.DynamicPricing.Config=function(){return{getCouponValidityUrl:function(){return CitrusPay.Config.getDpServer()+"/dynamicpricing/validateRuleForPayment"},getCalculatePricingUrl:function(){return CitrusPay.Config.getDpServer()+"/dynamicpricing/calculatePricingForPayment"},getSearchAndApplyRuleUrl:function(){return CitrusPay.Config.getDpServer()+"/dynamicpricing/searchAndApplyRuleForPayment"},getqueryMerchantUrl:function(){return CitrusPay.Config.getDpServer()+"/dynamicpricing/queryMerchant"}}}(),CitrusPay.DynamicPricing.Model=function(){return{DynamicPricingRequest:function(e){return{ruleName:e.ruleName||"",email:e.email||"",phone:e.phone||"",merchantTransactionId:e.merchantTransactionId||"",merchantAccessKey:e.merchantAccessKey||CitrusPay.Merchant.Config.Merchant.accessKey,signature:e.signature||"",originalAmount:e.originalAmount||CitrusPay.Rest.Payment.Model.Amount(),alteredAmount:e.alteredAmount||"",paymentInfo:e.paymentInfo||"",extraParams:e.extraParams||""}}}}(),CitrusPay.DynamicPricing.Service=function(){return{validateRule:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.DynamicPricing.Config.getCouponValidityUrl(),contentType:"application/json;charset=utf-8",data:JSON.stringify(e),success:function(e){console.log(e),t&&t(e)},error:function(e){console.log("Error in checking validity."),r&&r(e)}})},calculatePricing:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.DynamicPricing.Config.getCalculatePricingUrl(),contentType:"application/json;charset=utf-8",data:JSON.stringify(e),success:function(e){console.log(e),t&&t(e)},error:function(e){console.log("Error in checking validity."),r&&r(e)}})},searchAndApplyRule:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.DynamicPricing.Config.getSearchAndApplyRuleUrl(),contentType:"application/json;charset=utf-8",data:JSON.stringify(e),success:function(e){console.log(e),t&&t(e)},error:function(e){console.log("Error in checking validity."),r&&r(e)}})},queryMerchant:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.DynamicPricing.Config.getqueryMerchantUrl(),contentType:"application/json;charset=utf-8",data:JSON.stringify(e),success:function(e){t&&t(e)},error:function(e){console.log("Error in checking validity."),r&&r(e)}})}}}(),CitrusPay.DynamicPricing.API=function(){return{validateRule:function(e,t,r){CitrusPay.DynamicPricing.Service.validateRule(e,t,r)},calculatePricing:function(e,t,r){CitrusPay.DynamicPricing.Service.calculatePricing(e,t,r)},searchAndApplyRule:function(e,t,r){CitrusPay.DynamicPricing.Service.searchAndApplyRule(e,t,r)},queryMerchant:function(e,t,r){CitrusPay.DynamicPricing.Service.queryMerchant(e,t,r)}}}(),CitrusPay.COD={},CitrusPay.COD.Config=function(){var e=CitrusPay.Config.getV2Server()+"sslperf/nagama/zipcodecod";return{getCODUrl:function(){return e}}}(),CitrusPay.COD.Model=function(){return{CODvalidatePinRequest:function(e){return{merTxnId:e.merTxnId||"",orderAmount:e.orderAmount||"",currency:e.currency||"INR",returnUrl:e.returnUrl||"",notifyUrl:e.notifyUrl||"",zipcode:e.zipcode||"",vanity:CitrusPay.Merchant.Config.Merchant.vanityUrl||""}}}}(),CitrusPay.COD.Service=function(){return{validatePin:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.COD.Config.getCODUrl(),contentType:"application/x-www-form-urlencoded",data:e,success:function(e){t&&t(e)},error:function(e){console.log("Error in checking pin validity."),r&&r(e)}})}}}(),CitrusPay.COD.API=function(){return{validatePin:function(e,t,r){CitrusPay.COD.Service.validatePin(e,t,r)}}}(),CitrusPay.Vault={},CitrusPay.Vault.Config=function(){var e=CitrusPay.Config.getVaultServer();return{getVaultUrl:function(){return e+"/api/vault/tokenize/subscription"}}}(),CitrusPay.Vault.Model=function(){return{vaultTokenRequest:function(e){return{card:{pan:e.card.pan,holder:e.card.holder,expiry:e.card.expiry},hint:e.hint}}}}(),CitrusPay.Vault.Service=function(){return{getVaultToken:function(e,t,r){jQuery.ajax({type:"POST",crossDomain:!0,url:CitrusPay.Vault.Config.getVaultUrl(),contentType:"application/json",data:JSON.stringify(e),success:function(e){e.token?t&&t(e):citrusServerErrorMsg(e)},error:function(e){console.log("Error in getting the vault token."),r&&r(e)}})}}}(),CitrusPay.Vault.API=function(){return{getVaultToken:function(e,t,r){CitrusPay.Rest.Payment.Payment.Validators.VaultRequestValidator(e),CitrusPay.Vault.Service.getVaultToken(e,t,r)}}}(),CitrusPay.EMI={},CitrusPay.EMI.Config=function(){var e=CitrusPay.Config.getV2Server()+"";return{getEmiUrl:function(){return e}}}(),CitrusPay.EMI.Model=function(){return{emiRequest:function(e){return{merTxnId:e.merTxnId||"",orderAmount:e.orderAmount||"",currency:e.currency||"INR",returnUrl:e.returnUrl||"",notifyUrl:e.notifyUrl||"",zipcode:e.zipcode||"",vanity:CitrusPay.Merchant.Config.Merchant.vanityUrl||""}}}}(),CitrusPay.EMI.Service=function(){return{validateApplicableCard:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.Config.getEmiServer()+"validateApplicableCard",contentType:"application/json",data:JSON.stringify(e),success:function(e){t&&t(e)},error:function(e){console.log("Error in validating applicable card ."),r&&r(e)}})},fetchBankDetails:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.Config.getEmiServer()+"fetchBankDetails",contentType:"application/json",data:JSON.stringify(e),success:function(e){t&&t(e)},error:function(e){console.log("Error in fetching bank details ."),r&&r(e)}})},fetchTenureDetails:function(e,t,r){jQuery.ajax({type:"POST",url:CitrusPay.Config.getEmiServer()+"fetchTenureDetails",contentType:"application/json",data:JSON.stringify(e),success:function(e){t&&t(e)},error:function(e){console.log("Error in fetching tenure details ."),r&&r(e)}})}}}(),CitrusPay.EMI.API=function(){return{validateApplicableCard:function(e,t,r){CitrusPay.EMI.Service.validateApplicableCard(e,t,r)},fetchBankDetails:function(e,t,r){CitrusPay.EMI.Service.fetchBankDetails(e,t,r)},fetchTenureDetails:function(e,t,r){CitrusPay.EMI.Service.fetchTenureDetails(e,t,r)}}}(),CitrusPay.Wallet={},CitrusPay.Wallet.API=function(){function e(e){if("object"!=typeof e)return"argument should be an object";for(var r=[],i={},o=s||t(l).allowedKeys,c=u||t(l).requiredkKeys,d=0,y=c.length;d<y;d++){var m=c[d];void 0!==e[m]&&null!==e[m]||r.push('"'+m+'" is a required field')}for(var p in e)if(e.hasOwnProperty(p)){var v=e[p];if(a(v)||n(v))if(o.indexOf(p)<0)i[p]=v;else{var P=l[p].validator(v);!1===P.valid?r.push('"'+p+'" '+P.msg):i[p]=P.newVal?P.newVal:v}else r.push('"'+p+'"  should be String or Number')}return r.length?r.join(". "):i}function t(e){var t={allowedKeys:[],requiredKeys:[]};for(var r in e)e.hasOwnProperty(r)&&(t.allowedKeys.push(r),!0===e[r].required&&t.requiredKeys.push(r));return u=t.requiredKeys,s=t.allowedKeys,t}function r(e){var t=a(e)&&""!==e,r={valid:t};return t||(r.msg="not a string"),r}function a(e){return"string"==typeof e||e instanceof String}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function i(e,t,r){var a=r.test(e),n={valid:a};return a||(n.msg=t),n}var o,u,s,c;Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var r=t||0,a=this.length;r<a;r++)if(this[r]===e)return r;return-1});var l={amount:{required:!0,validator:function(e){return i(e,"is not valid amount",/^\d+(\.\d+)?$/)}},currency:{required:!0,validator:r},email:{required:!1,validator:function(e){return i(e,"is not valid email",/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-zA-Z]{2,6}(?:\.[a-zA-Z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/)}},mobile:{required:!1,validator:function(e){return i(e,"should be 10 digit number",/^\d{10}$/)}},returnUrl:{required:!0,validator:function(e){return i(e,"is not a valid url",/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/)}},notifyUrl:{required:!0,validator:function(e){return i(e,"is not a valid url",/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/)}},merchantTransactionId:{required:!0,validator:r},merchantAccessKey:{required:!0,validator:r},signature:{required:!0,validator:r}},d=window.addEventListener?"addEventListener":"attachEvent";return(0,window[d])("attachEvent"==d?"onmessage":"message",function(e){var t=e[e.message?"message":"data"],r=o&&(o.eventHandler||o.walletLaunchHandler);"closeWallet"==t?(c.parentNode.removeChild(c),r&&r({message:"Citrus wallet Closed",event:"walletClosed"})):"citrusWalletLaunched"===t&&r&&r({message:"Citrus wallet launched",event:"walletLaunched"})},!1),{launchWallet:function(t,r){r&&(o=r);var a=r&&r.walletUrl||"https://wallet.citruspay.com/wallet/showlogin",n=r&&r.signSystem,i=e(t);if("string"==typeof i)throw"function"==typeof citrusClientErrMsg&&citrusClientErrMsg(i),new Error(i);var u;if(screen.width<751)u="_self";else{var s=document.createElement("iframe");c=s,s.name="walletIframeName",s.setAttribute("style","display:block;position:fixed;width:100%;height:100%;height:100vh;left:0;top:0;z-index:10000;overflow:hidden;"),s.setAttribute("allowtransparency","true"),document.getElementsByTagName("body")[0].appendChild(s),u="walletIframeName"}var l=document.createElement("form");l.setAttribute("method","POST"),l.setAttribute("action",a),l.setAttribute("target",u);for(var d in i)i.hasOwnProperty(d)&&((y=document.createElement("input")).setAttribute("type","hidden"),y.setAttribute("name",d),y.setAttribute("value",i[d]),l.appendChild(y));if("wallet"!==n){var y=document.createElement("input");y.setAttribute("type","hidden"),y.setAttribute("name","moto"),y.setAttribute("value","true"),l.appendChild(y)}document.body.appendChild(l),l.submit()}}}();var mtx=jQuery("#citrusMerchantTxnId").val(),amount=CitrusPay.Rest.Payment.Model.Amount({value:jQuery("#citrusAmount").val()});